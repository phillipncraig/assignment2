<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title></title>
  <script>
    // Game functions
    function getMaxFromUser() {
      // gets the maximum number for the game from the user and returns it as a Number
      let max = prompt('Hi ' + name + ', we\'re going to play a number guessing game. You\'ll keep on guessing to get it right. To get started, choose a max number greater than ' + min)
      return Number(max)
    }

    function getGuessFromUser(max, min) {
      // takes care of prompting the user for a guess and converting it to a number
      let guess = prompt('Now, try and guess a random number from ' + min + ' to ' + max)
      return Number(guess)
    }

    function generateRandomNumber(max) {
      // generate a random integer between 0 and max
      return Math.floor(Math.random() * Math.floor(max));
    }

    function isGuessCorrect(goal, guess) {
      // check if a guess is correct and return a boolean
      if (goal === guess) {
        return true
      } else {
        return false
      }
    }

    function startGame() {
      // code that houses the while loop for our game. call this function once to begin
      name = prompt('What is your name?')
      if (name == "null") {
        return
      }

      min = 1
      max = getMaxFromUser()
      if (max === 0) {
        return
      }

      goal = generateRandomNumber(max)
      guess = getGuessFromUser(max, min)
      outcome = isGuessCorrect(goal, guess)

      while (!outcome) {
        outcome = isGuessCorrect(goal, guess)
        if (outcome) {
          alert("Correct! Well done, " + guess + " was what I chose too!")
          return
        } else if (guess === 0) {
          alert("Thanks for playing!")
          return
        } else if (guess > goal) {
          alert("Too high!")
          max = guess
          guess = getGuessFromUser(max, min)
        } else if (guess < goal) {
          alert("Too low!")
          min = guess
          guess = getGuessFromUser(max, min)
        }
      }
    }
    startGame()
  </script>
</head>

<body>
  <!-- Don't need anything here for now -->
</body>

</html>